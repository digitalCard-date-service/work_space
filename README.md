
# 디지털 명함 소개팅

> 디지털 명함을 활용하여 자신을 소개하고 이성을 매칭시켜주는 혁신적인 소개팅 플랫폼입니다.

---

## 📋 프로젝트 개요

### 프로젝트 목적
- 디지털 명함을 활용하여 현대인의 라이프스타일에 맞는 효율적인 소개팅 플랫폼 제공.
- 관심사 공유를 통해 선택의 폭을 좁히고 대상 선택의 어려움을 완화.
- 오프라인 명함 소개팅의 시간과 장소 제약을 줄이고 접근성을 높임.
- 대면 만남의 어색함과 부담을 덜어주는 디지털 기반의 안전한 소통 환경 구축.

### 주요 기능
- **디지털 명함 생성**: 사용자 프로필과 관심사를 기반으로 한 맞춤형 디지털 명함 생성.
- **명함 매칭**: 랜덤으로 2장의 명함 추천 또는 개인화된 알고리즘을 통해 최적의 명함 1장 제공.
- **AI 챗봇 시뮬레이션**: 소통이 어려운 사용자를 위해 자연스러운 대화 연습 환경을 제공하는 AI 기반 챗봇 지원.
  
---

## 💻 기술 스택

### 프론트엔드
프론트엔드 스택 
- **VanilaJS**: 클라이언트 측 동작을 제어하며, REST API 요청 및 DOM 조작 구현.
- **CSS Modules**: 사용자 인터페이스(UI)의 스타일링 및 반응형 디자인 적용.
- **HTML**: 애플리케이션의 구조와 콘텐츠 작성.
- **Figma**: 클라우드 기반 협업 디자인 도구로, 와이어프레임, UI/UX 디자인, 프로토타이핑을 효율적으로 지원.

### 백엔드
- **flask**: 경량 Python 웹 프레임워크로 서버 구축, API 설계, 라우팅을 간편하게 관리.
- **SQLite**: 경량화된 관계형 데이터베이스로 빠르고 독립적인 데이터 저장소 제공.

### 기타
- **PyCharm**: 프로젝트별 독립적인 가상환경(Virtual Environment) 관리를 지원하는 Python 전용 IDE.
- **Heroku**: 클라우드 플랫폼으로 간편한 서버 배포와 확장성 제공.

---

## 🛠️ 설계 및 구현

### 시스템 구조
- **클라이언트-서버 구조**: React.js 클라이언트와 Express.js 백엔드 간 REST API 및 WebSocket 통신.
- **데이터베이스 설계**: SQLite를 이용하여 사용자의 성별, 이름, 학과, 학번(나이), MBTI, 취미를 저장하여 매칭에 활용.

![시스템 구조도](./assets/system_architecture.png) <!-- 시스템 구조도 이미지 링크 -->

### 데이터 흐름
1. **사용자 프로필 등록**:
   - 클라이언트에서 사용자 데이터를 입력 -> API를 통해 서버에 저장.
2. **매칭 프로세스**:
   - 서버가 공통 관심사 및 지역 기반으로 매칭 -> 매칭 결과를 클라이언트에 반환.
3. **채팅 기능**:
   - Socket.IO를 활용하여 클라이언트 간 실시간 메시지 전송.
  
### 와이어 프레임

### 디렉토리 구조
---

## 🧩 주요 로직

### 매칭 알고리즘
나이, .
```javascript
function matchUsers(user1, user2) {
    const commonInterests = user1.interests.filter(interest => user2.interests.includes(interest));
    return commonInterests.length > 0; // 공통 관심사가 있는 경우 매칭 성공
}
```

### 채팅 실시간 메시지 전송
Socket.IO를 활용하여 클라이언트 간 메시지를 실시간으로 송수신합니다.
```javascript
io.on('connection', (socket) => {
    socket.on('sendMessage', (message) => {
        io.to(message.room).emit('receiveMessage', message);
    });
});
```

---

## 🛠️ 페이지별 세부 구현

서비스 제공 페이지는 사용자 편과 관리자 편으로 나뉘어 각각 사용자 경험 향상과 서비스 안정적 운영에 초점을 맞추고 있습니다.

---

### 사용자 편

#### **1. 홈 페이지 (`Onboarding Page`)**
**기능**:
- 사용자를 환영하는 메시지와 플랫폼 소개.
- 주요 기능들과 간단한 사이트 이용방법 소개.
- 메인 컨텐츠 이용 전, 포춘카드라는 미니 컨텐츠를 통해 사용자에게 리프레쉬함을 제공.

**세부 구현 설명**:
- 페이지 레이아웃: 6개의 섹션으로 플랫폼 소개, 환영메시지, 스텝별 사이트 이용방법, 포춘카드 미니 컨텐츠, 로그인 페이지로의 이동버튼 구현.
- 스타일: 직접 디자인한 이미지와 산뜻한 컬러를 이용하여 가볍게 구현.

---

#### **2. 로그인 페이지 (`Login Page`)**
**기능**:
- Univcert라는 외부 API를 이용한 로그인.
- 학교인증을 통해 사용자 입장에서 회원가입이라는 번거로운 절차와 달리 가벼운 느낌을 주며 서비스 접근성에 대한 편의 제공.

**세부 구현 설명**:
- 유효성 검사: 대학교이름, 학교이메일, 인증코드를 통한 인증절차 구현.
- 중복 확인: 무방비한 서비스이용을 방지하기 위해 인증된 유저에게 세션을 30분동안 부과, 세션이 만료되면 각 페이지별 checkAuth()함수를 통해 로그인 페이지로 리디렉션.
- 코드보안성: API키가 외부에 유출되는것을 방지하기 위해 JS에서 입력값과 어떤 엔드포인트에 접근할지를 백엔드로 전달하고 백엔드에서 API KEY를 이용하여 외부와 통신하여 그 결과를 다시 JS에 반환

---

#### **3. 명함 작성 페이지 (`Writing Page`)**
**기능**:
- 사용자가 자신의 디지털 명함을 작성.
- 입력한 정보를 기반으로 명함이 생성되어 DB에 저장.
- 기존 대학교 오프라인 명함소개팅에서 제공하는 양식 외 카드 색상, 동물이미지를 통해 개성표현의 범위를 넓힘.

**세부 구현 설명**:
- 사용자입력값 검증: 양식 예시를 제공, 양식에 대한 검증 로직을 통해 사용자가 올바른 정보를 작성하도록 유도.
- 폼 양식: 성별, 이름, 학과, 학번(나이), MBTI, 취미, SNS ID, 카드색상, 동물이지
- UI bar를 이용하여 직관적으로 명함작성 가능

---

#### **4. 이상형 조사 페이지 (`Survey Page`)**
**기능**:
- 사용자의 이상형 데이터를 수집하여 추천서비스의 매칭 알고리즘에 반영.

**세부 구현 설명**:
- 나이, 학과, MBTI, 취미에 대한 정보 수집
  - 나이: 동갑, 연상, 연하
   - 학과: 문과, 이과, 공대, 음대, 체대, 미대
   - MBTI: 모두가능
   - 취미: 자유롭게 키워드로 작성
- 나이와 선호 학과는 중복 선택가능.
- 학과의 경우 미리 배열에 학과이름을 저장하여 효율적으로 매칭 알고리즘에 활용하도록 제공.
- 선택지 클릭 시 즉각적인 시각적 피드백 제공.

---

#### **5. 매칭 서비스 선택 페이지 (`Drawing Page`)**
**기능**:
- 랜덤 또는 추천 기반으로 명함 매칭 서비스를 선택.

**세부 구현 설명**:
- UI/UX: 사용자가 두 가지 옵션 중 하나를 쉽게 선택하도록 직관적인 레이아웃 제공.
- 뽑기 애니메이션: 트리플세븐 기기처럼, 뽑기버튼을 누르면 여러장의 명함이 점점 빠른속도로 회전하는 애니메이션 적용

---

#### **6-1. 랜덤 뽑기 페이지 (`Random Page`)**
**기능**:
- 사용자에게 랜덤 명함 2장을 제공.

**세부 구현 설명**:
- 오픈버튼을 누르면 서버에서 랜덤으로 명함 데이터를 가져와 사용자에게 표시, 버튼을누를때마다 번갈아가며 명함2개를 교차로 보여주어 사용자가 비교하며 선택하게끔 편의 제공
- 두 개의 카드 중 하날골라 확정하기 버튼을 누를시 명함주인의 이름과 SNS ID가 노출
- 사용자정보보호를 위해 오픈버튼을 누르면 서버로부터 이름과 SNS ID를 제외한 정보만 호출
- 다음페이지를 누르면 다음 단계로 이동.

---

#### **6-2. 추천 뽑기 페이지 (`Recommend Page`)**
**기능**:
- 알고리즘 기반으로 사용자에게 최적의 명함 1장을 제공.

**세부 구현 설명**:
- 사용자가 작성하여 제출한 명함데이터와 이상형조사 데이터를 기반으로 매칭 알고리즘 실행.
- 오픈버튼을 누르면 알고리즘이 실행되고 최적의 명함을 사용자에게 제공.
- 사용자정보보호를 위해 오픈버튼을 누르면 서버로부터 이름과 SNS ID를 제외한 정보만 호출.
- 다음페이지를 누르면 다음 단계로 이동.

---

#### **7. AI 챗봇 페이지 (`AISimulation Page`)**
**기능**:
- 이성과의 대화 연습을 위한 AI 챗봇 제공.
- 응원메시지와 사이트피드백을 위한 구글폼 링크 제공.

**세부 구현 설명**:
- CHAT-GPT API를 이용하여, AI 모델 기반으로 자연스러운 대화 흐름 구현.
- 나이, 취미, 성격등이 각각 다른 7명의 AI캐릭터 제공.
- 사용자가 뽑은 명함의 정보를 기반으로 설계된 캐릭터 제공.
- 사용자 입력에 따라 즉각적인 응답 생성.

---

### 관리자 편

#### 관리자 페이지의 필요성
사용자 경험을 유지하고 서비스의 안정성을 보장하기 위해 관리자 페이지는 인증 유저 관리, 사이트 모니터링 등 필수적인 기능을 제공합니다.

---

#### **1. 관리자 로그인 페이지 (`adminLogin Page`)**
**기능**:
- 개발자들만 알고 있는 비밀번호를 통해 관리자 컨트롤 페이지에 안전하게 접근.

**세부 구현 설명**:
- 비밀번호 검증은 안전하게 백엔드에서 구현.
- 로그인시 1시간동안 세션부여, 세션만료시 로그인페이지로 리다이렉션
- 바로 컨트롤페이지로 이동시 로그인페이지로 리다이렉션.

---

#### **2. 사용자 관리 및 사이트 모니터링 페이지 (`master Page`)**
**기능**:
- 인증유저 정보 확인, 특정유저삭제, 전체 인증유저 초기화 기능 제공.
- 각 페이지별로 바로 이동할 수 있는 하이퍼링크 제공

**세부 구현 설명**:
- 하이퍼링크를 통해 각 페이지별로 바로 진입 가능
- Univcert API를 이용하여 인증된 유저를 출력
- 전체 인증유저 초기화 및 특정 유저 삭제 또한 API를 이용하여 기능 제공.
- 직관적인 UX/UI 제공으로 간편하게 웹페이지 컨트롤 가능.

---


### 설명 마무리
사용자 편과 관리자 편은 서로 보완적인 역할을 하며, 사용자 경험 향상과 안정적 서비스 운영을 목표로 설계되었습니다.


---
## 📑 외부 문서

### 시스템 다이어그램
- 사진추가 예정.

### 추가 문서 링크
- [Univcert 문서](./docs/API_REFERENCE.md)
- [Chat GPT 문서](./docs/UI_UX_DESIGN.md)

---

## 🔗 API 문서
- 로그인
- 카드작성
- 카드뽑기
### 주요 엔드포인트

#### 1. 회원가입 API
- **URL**: `/api/auth/register`
- **Method**: POST
- **Body**:
  ```json
  {
      "email": "example@example.com",
      "password": "password123",
      "name": "John Doe"
  }
  ```
- **Response**:
  ```json
  {
      "message": "Registration successful",
      "userId": "123456789"
  }
  ```

#### 2. 로그인 API
- **URL**: `/api/auth/login`
- **Method**: POST
- **Body**:
  ```json
  {
      "email": "example@example.com",
      "password": "password123"
  }
  ```
- **Response**:
  ```json
  {
      "token": "JWT_TOKEN"
  }
  ```

#### 3. 매칭 조회 API
- **URL**: `/api/match`
- **Method**: GET
- **Headers**:
  ```
  Authorization: Bearer <JWT_TOKEN>
  ```
- **Response**:
  ```json
  {
      "matches": [
          {
              "userId": "123",
              "name": "Alice",
              "interests": ["Music", "Art"]
          }
      ]
  }
  ```

---

## 역할 분담


## 🚀 설치 및 실행 방법

1. **저장소 클론**
   ```bash
   git clone https://github.com/digitalCard-date-service/work_space.git
   cd work_space
   ```

2. **의존성 설치**
   ```bash
   npm install
   ```

3. **환경 변수 설정**
   `.env.example` 파일을 참고하여 `.env` 파일 생성 후 필요한 값을 설정하세요.

4. **애플리케이션 실행**
   ```bash
   npm start
   ```

---

## 🤝 기여 방법

1. 저장소를 포크합니다.
2. 새 브랜치를 생성합니다.
   ```bash
   git checkout -b feature/새로운기능
   ```
3. 변경 사항을 커밋합니다.
   ```bash
   git commit -m "Add 새로운 기능"
   ```
4. 브랜치를 푸시합니다.
   ```bash
   git push origin feature/새로운기능
   ```
5. 풀 리퀘스트를 제출합니다.

---

## 📜 라이선스

이 프로젝트는 [MIT 라이선스](LICENSE)를 따릅니다.

---

## 📞 연락처

- Front developer:
   - 조유찬: yuchancho174@gmail.com
   - 이서인: ~
- Back developer:
   - 정다운: ~
   - 문효재: ~
